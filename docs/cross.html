<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Summary statistics and data visualization | R and RStudio for STAT216</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Summary statistics and data visualization | R and RStudio for STAT216" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Summary statistics and data visualization | R and RStudio for STAT216" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  

<meta name="author" content="Charles Katerba" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="rstudio-basics.html"/>
<link rel="next" href="wrangling-data.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R for STAT216 @ FVCC</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#organization"><i class="fa fa-check"></i><b>1.1</b> Organization</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#getting-started"><i class="fa fa-check"></i><b>1.2</b> Getting started</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#code-in-this-book"><i class="fa fa-check"></i><b>1.3</b> Code in this book</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#help"><i class="fa fa-check"></i><b>1.4</b> Help</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#debugging"><i class="fa fa-check"></i><b>1.5</b> Debugging</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#other-resources"><i class="fa fa-check"></i><b>1.6</b> Other resources</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rstudio-basics.html"><a href="rstudio-basics.html"><i class="fa fa-check"></i><b>2</b> RStudio basics</a>
<ul>
<li class="chapter" data-level="2.1" data-path="rstudio-basics.html"><a href="rstudio-basics.html#a-big-calculator"><i class="fa fa-check"></i><b>2.1</b> A big calculator</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="rstudio-basics.html"><a href="rstudio-basics.html#numbers"><i class="fa fa-check"></i><b>2.1.1</b> Numbers</a></li>
<li class="chapter" data-level="2.1.2" data-path="rstudio-basics.html"><a href="rstudio-basics.html#strings"><i class="fa fa-check"></i><b>2.1.2</b> Strings</a></li>
<li class="chapter" data-level="2.1.3" data-path="rstudio-basics.html"><a href="rstudio-basics.html#logicals-and-logical-operators"><i class="fa fa-check"></i><b>2.1.3</b> Logicals and Logical operators</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="rstudio-basics.html"><a href="rstudio-basics.html#naming-things"><i class="fa fa-check"></i><b>2.2</b> Naming things</a></li>
<li class="chapter" data-level="2.3" data-path="rstudio-basics.html"><a href="rstudio-basics.html#lists-and-vectors"><i class="fa fa-check"></i><b>2.3</b> Lists and vectors</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="rstudio-basics.html"><a href="rstudio-basics.html#creating-lists"><i class="fa fa-check"></i><b>2.3.1</b> Creating lists</a></li>
<li class="chapter" data-level="2.3.2" data-path="rstudio-basics.html"><a href="rstudio-basics.html#subsetting-lists"><i class="fa fa-check"></i><b>2.3.2</b> Subsetting lists</a></li>
<li class="chapter" data-level="2.3.3" data-path="rstudio-basics.html"><a href="rstudio-basics.html#special-lists"><i class="fa fa-check"></i><b>2.3.3</b> Special lists</a></li>
<li class="chapter" data-level="2.3.4" data-path="rstudio-basics.html"><a href="rstudio-basics.html#list-arithmetic"><i class="fa fa-check"></i><b>2.3.4</b> List arithmetic</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="rstudio-basics.html"><a href="rstudio-basics.html#packages"><i class="fa fa-check"></i><b>2.4</b> Packages</a></li>
<li class="chapter" data-level="2.5" data-path="rstudio-basics.html"><a href="rstudio-basics.html#data-frames-and-tibbles"><i class="fa fa-check"></i><b>2.5</b> Data frames and tibbles</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="rstudio-basics.html"><a href="rstudio-basics.html#creating-data-frames"><i class="fa fa-check"></i><b>2.5.1</b> Creating data frames</a></li>
<li class="chapter" data-level="2.5.2" data-path="rstudio-basics.html"><a href="rstudio-basics.html#using-data-frames"><i class="fa fa-check"></i><b>2.5.2</b> Using data frames</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="rstudio-basics.html"><a href="rstudio-basics.html#r-markdown-documents"><i class="fa fa-check"></i><b>2.6</b> R Markdown documents</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="cross.html"><a href="cross.html"><i class="fa fa-check"></i><b>3</b> Summary statistics and data visualization</a>
<ul>
<li class="chapter" data-level="3.1" data-path="cross.html"><a href="cross.html#summary-statistics-in-r"><i class="fa fa-check"></i><b>3.1</b> Summary statistics in R</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="cross.html"><a href="cross.html#numerical-variables"><i class="fa fa-check"></i><b>3.1.1</b> Numerical variables</a></li>
<li class="chapter" data-level="3.1.2" data-path="cross.html"><a href="cross.html#categorical-variables"><i class="fa fa-check"></i><b>3.1.2</b> Categorical variables</a></li>
<li class="chapter" data-level="3.1.3" data-path="cross.html"><a href="cross.html#combining-it-all"><i class="fa fa-check"></i><b>3.1.3</b> Combining it all</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="cross.html"><a href="cross.html#data-visualization"><i class="fa fa-check"></i><b>3.2</b> Data visualization</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="cross.html"><a href="cross.html#base-r"><i class="fa fa-check"></i><b>3.2.1</b> Base R</a></li>
<li class="chapter" data-level="3.2.2" data-path="cross.html"><a href="cross.html#ggplot2"><i class="fa fa-check"></i><b>3.2.2</b> <code>ggplot2</code></a></li>
<li class="chapter" data-level="3.2.3" data-path="cross.html"><a href="cross.html#saving-plots"><i class="fa fa-check"></i><b>3.2.3</b> Saving plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="wrangling-data.html"><a href="wrangling-data.html"><i class="fa fa-check"></i><b>4</b> Wrangling data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="wrangling-data.html"><a href="wrangling-data.html#the-goal-tidy-data."><i class="fa fa-check"></i><b>4.1</b> The goal: “tidy” data.</a></li>
<li class="chapter" data-level="4.2" data-path="wrangling-data.html"><a href="wrangling-data.html#the-pipe"><i class="fa fa-check"></i><b>4.2</b> The pipe</a></li>
<li class="chapter" data-level="4.3" data-path="wrangling-data.html"><a href="wrangling-data.html#common-tidying-operations"><i class="fa fa-check"></i><b>4.3</b> Common tidying operations</a></li>
<li class="chapter" data-level="4.4" data-path="wrangling-data.html"><a href="wrangling-data.html#mutate-group-by-and-summarize"><i class="fa fa-check"></i><b>4.4</b> Mutate, group by, and summarize</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="distribution-calculations.html"><a href="distribution-calculations.html"><i class="fa fa-check"></i><b>5</b> Distribution calculations</a>
<ul>
<li class="chapter" data-level="5.1" data-path="distribution-calculations.html"><a href="distribution-calculations.html#finite-discrte-distribution-calculations"><i class="fa fa-check"></i><b>5.1</b> Finite discrte distribution calculations</a></li>
<li class="chapter" data-level="5.2" data-path="distribution-calculations.html"><a href="distribution-calculations.html#named-distribution-calculations"><i class="fa fa-check"></i><b>5.2</b> Named distribution calculations</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="distribution-calculations.html"><a href="distribution-calculations.html#discrete-random-variables"><i class="fa fa-check"></i><b>5.2.1</b> Discrete random variables</a></li>
<li class="chapter" data-level="5.2.2" data-path="distribution-calculations.html"><a href="distribution-calculations.html#continuous-random-variables"><i class="fa fa-check"></i><b>5.2.2</b> Continuous random variables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="inferential-statistics-take-1.html"><a href="inferential-statistics-take-1.html"><i class="fa fa-check"></i><b>6</b> Inferential statistics, take 1</a></li>
<li class="chapter" data-level="7" data-path="inferential-statistics-take-2.html"><a href="inferential-statistics-take-2.html"><i class="fa fa-check"></i><b>7</b> Inferential statistics, take 2</a>
<ul>
<li class="chapter" data-level="7.1" data-path="inferential-statistics-take-2.html"><a href="inferential-statistics-take-2.html#analyzing-categorical-variables"><i class="fa fa-check"></i><b>7.1</b> Analyzing categorical variables</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="inferential-statistics-take-2.html"><a href="inferential-statistics-take-2.html#single-sample"><i class="fa fa-check"></i><b>7.1.1</b> Single sample</a></li>
<li class="chapter" data-level="7.1.2" data-path="inferential-statistics-take-2.html"><a href="inferential-statistics-take-2.html#two-sample"><i class="fa fa-check"></i><b>7.1.2</b> Two sample</a></li>
<li class="chapter" data-level="7.1.3" data-path="inferential-statistics-take-2.html"><a href="inferential-statistics-take-2.html#chi-squared-goodness-of-fit-test"><i class="fa fa-check"></i><b>7.1.3</b> Chi-squared goodness of fit test</a></li>
<li class="chapter" data-level="7.1.4" data-path="inferential-statistics-take-2.html"><a href="inferential-statistics-take-2.html#chi-squared-test-of-independence"><i class="fa fa-check"></i><b>7.1.4</b> Chi-squared test of independence</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="inferential-statistics-take-2.html"><a href="inferential-statistics-take-2.html#analyzing-numerical-variables"><i class="fa fa-check"></i><b>7.2</b> Analyzing numerical variables</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="inferential-statistics-take-2.html"><a href="inferential-statistics-take-2.html#single-sample-mean"><i class="fa fa-check"></i><b>7.2.1</b> Single sample mean</a></li>
<li class="chapter" data-level="7.2.2" data-path="inferential-statistics-take-2.html"><a href="inferential-statistics-take-2.html#two-sample-mean"><i class="fa fa-check"></i><b>7.2.2</b> Two sample mean</a></li>
<li class="chapter" data-level="7.2.3" data-path="inferential-statistics-take-2.html"><a href="inferential-statistics-take-2.html#paired-data"><i class="fa fa-check"></i><b>7.2.3</b> Paired data</a></li>
<li class="chapter" data-level="7.2.4" data-path="inferential-statistics-take-2.html"><a href="inferential-statistics-take-2.html#analysis-of-variance-anova"><i class="fa fa-check"></i><b>7.2.4</b> Analysis of variance (ANOVA)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="modeling-relationships.html"><a href="modeling-relationships.html"><i class="fa fa-check"></i><b>8</b> Modeling relationships</a>
<ul>
<li class="chapter" data-level="8.1" data-path="modeling-relationships.html"><a href="modeling-relationships.html#simple-linear-regression"><i class="fa fa-check"></i><b>8.1</b> Simple linear regression</a></li>
<li class="chapter" data-level="8.2" data-path="modeling-relationships.html"><a href="modeling-relationships.html#multiple-linear-regression"><i class="fa fa-check"></i><b>8.2</b> Multiple linear regression</a></li>
<li class="chapter" data-level="8.3" data-path="modeling-relationships.html"><a href="modeling-relationships.html#bonus-topic-logistic-regression"><i class="fa fa-check"></i><b>8.3</b> Bonus topic: logistic regression</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R and RStudio for STAT216</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="cross" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Summary statistics and data visualization<a href="cross.html#cross" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>At this point you should start feeling more comfortable using R. You know how to define lists, make calculations involving lists, define data frames, install and load packages, and work in and on R Markdown documents.</p>
<p>Up to this point you may feel like R has made your life harder; the point of this chapter is to convince you that, at least for doing statistics, R can make your life much, much easier.</p>
<p>In all of the examples below we will be using the <code>teacher</code> data set from the <code>openintro</code> package in R which contains salary data for 71 teachers in the St. Louis Public Schools and other variables that may influence salary. For more information, evaluate <code>?teacher</code> in the console.</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="cross.html#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(teacher)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 8
##   id    degree fte   years  base  fica retirement  total
##   &lt;fct&gt; &lt;fct&gt;  &lt;fct&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt;
## 1 01    BA     1       5   45388 3472.      7689. 56549.
## 2 02    MA     1      15   60649 4640.     10274. 75563.
## 3 03    MA     1      16   60649 4640.     10274. 75563.
## 4 04    BA     1      10   54466 4167.      9227. 67859.
## 5 05    BA     1      26   65360 5000.     11072. 81432.
## 6 06    BA     1      28.5 65360 5000.     11072. 81432.</code></pre>
<div id="summary-statistics-in-r" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Summary statistics in R<a href="cross.html#summary-statistics-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R makes calculating summary statistics a breeze so that we can focus instead on appropriately interpreting and using these statistics. Of course, the software can handle both categorical and numerical variables equally as well. Remember, when analyzing numerical variables, we typically look at the mean/standard deviation or median/IQR as summary statistics; when analyzing categorical variables, we typically look at sample counts and/or proportions.</p>
<div id="numerical-variables" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Numerical variables<a href="cross.html#numerical-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The commands we use to calculate all of your favorite summary statistics are fairly intuitive and straightforward in R. For example to calculate the mean of a data variable <code>x</code>, simply evaluate <code>mean(x)</code>. The list below gives some common summary statistics and an example using the <code>teacher</code> data set. As usual, this is not a complete list.</p>
<ul>
<li><code>mean(x, ...)</code> and <code>median(x, ...)</code>: calculates the average and median of the data set. If <code>x</code> contains <code>NA</code> (unknown or not available) values, considering setting using the option <code>na.rm = T</code> which removes the <code>NA</code> values from your list. The average base salary for a teacher from our data set is</li>
</ul>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="cross.html#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(teacher<span class="sc">$</span>base)</span></code></pre></div>
<pre><code>## [1] 56415.96</code></pre>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="cross.html#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(teacher<span class="sc">$</span>base)</span></code></pre></div>
<pre><code>## [1] 59914</code></pre>
<ul>
<li><code>var(x, ...)</code> and <code>sd(x, ...)</code>: calculates the <em>sample</em> variance and standard deviation of the data set. For our base teacher salary:</li>
</ul>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="cross.html#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(teacher<span class="sc">$</span>base)</span></code></pre></div>
<pre><code>## [1] 99684592</code></pre>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="cross.html#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(teacher<span class="sc">$</span>base)</span></code></pre></div>
<pre><code>## [1] 9984.217</code></pre>
<ul>
<li><code>quantile(x, probs = # or list of percentiles )</code>: returns the <em>value</em> in your data set corresponding to the given percentiles. For instance <code>quantile(x, probs = .25)</code> returns the first quartile of <code>x</code>.</li>
</ul>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="cross.html#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(teacher<span class="sc">$</span>base, <span class="at">probs =</span> .<span class="dv">25</span>) <span class="co">#first quartile</span></span></code></pre></div>
<pre><code>##   25% 
## 51174</code></pre>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="cross.html#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(teacher<span class="sc">$</span>base, <span class="at">probs =</span> .<span class="dv">75</span>) <span class="co">#third quartile</span></span></code></pre></div>
<pre><code>##   75% 
## 65360</code></pre>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="cross.html#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(teacher<span class="sc">$</span>base, <span class="at">probs =</span> <span class="fu">c</span>(.<span class="dv">25</span>, .<span class="dv">5</span>, .<span class="dv">75</span>)) <span class="co">#Q1, median, Q3</span></span></code></pre></div>
<pre><code>##   25%   50%   75% 
## 51174 59914 65360</code></pre>
<ul>
<li><code>IRQ(x,...)</code>: returns the interquartile range of the numerical variable <code>x</code>.</li>
</ul>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="cross.html#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="fu">IQR</span>(teacher<span class="sc">$</span>base)</span></code></pre></div>
<pre><code>## [1] 14186</code></pre>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="cross.html#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(teacher<span class="sc">$</span>base, .<span class="dv">75</span>) <span class="sc">-</span> <span class="fu">quantile</span>(teacher<span class="sc">$</span>base, .<span class="dv">25</span>) </span></code></pre></div>
<pre><code>##   75% 
## 14186</code></pre>
<ul>
<li><code>min(x,...)</code> and <code>max(x,...)</code>: returns the minimum and maximum values of the numerical varible <code>x</code>.</li>
</ul>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="cross.html#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(teacher<span class="sc">$</span>base)</span></code></pre></div>
<pre><code>## [1] 19900</code></pre>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="cross.html#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(teacher<span class="sc">$</span>base)</span></code></pre></div>
<pre><code>## [1] 68230</code></pre>
<ul>
<li><code>summary(x,...)</code>: returns 6 summary statistics if <code>x</code> is a numerical variable: min, first quartile, median, mean, third quartile, and max.</li>
</ul>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="cross.html#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(teacher<span class="sc">$</span>base)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   19900   51174   59914   56416   65360   68230</code></pre>
<ul>
<li><code>fivenum(x, ...)</code>: returns a classic five number summary of the numerical variable <code>x</code>: min, Q1, median, Q3, and max.</li>
</ul>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="cross.html#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fivenum</span>(teacher<span class="sc">$</span>base)</span></code></pre></div>
<pre><code>## [1] 19900 51174 59914 65360 68230</code></pre>
</div>
<div id="categorical-variables" class="section level3 hasAnchor" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Categorical variables<a href="cross.html#categorical-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This section will focus on ways to create summary tables (ie frequency tables and contingency tables) for categorical variables. We will focus on using “base R” techniques for these purposes, but Chapter 3 will go into more detail about using the <code>dplyr</code> package to make the construction of more complicated summaries a bit easier. As above, the list below will help you summarize and analyze categorical variables.</p>
<ul>
<li><code>summary(x, ...)</code>: if <code>x</code> is a list of observations of a categorical variable, <code>summary(x)</code> will return a list counts for each value of the variable. Such a table is called a <em>one-way frequency table</em>. For example</li>
</ul>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="cross.html#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(teacher<span class="sc">$</span>degree) <span class="co">#unique values this variable takes on</span></span></code></pre></div>
<pre><code>## [1] BA MA
## Levels: BA MA</code></pre>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="cross.html#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(teacher<span class="sc">$</span>degree) <span class="co">#count the number of occurences of each value</span></span></code></pre></div>
<pre><code>## BA MA 
## 39 32</code></pre>
<ul>
<li><code>table(...)</code>: this function is more flexible than <code>summary</code> in that will return either a one-way table (if only one categorical variable is specified) or a two-way/contingincy table (if two categorical variables are specified).</li>
</ul>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="cross.html#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="co">#generates a one-way table</span></span>
<span id="cb205-2"><a href="cross.html#cb205-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(teacher<span class="sc">$</span>degree) </span></code></pre></div>
<pre><code>## 
## BA MA 
## 39 32</code></pre>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="cross.html#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="co">#generates a two-way table</span></span>
<span id="cb207-2"><a href="cross.html#cb207-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(teacher<span class="sc">$</span>degree, teacher<span class="sc">$</span>fte) </span></code></pre></div>
<pre><code>##     
##      0.5  1
##   BA   0 39
##   MA   1 31</code></pre>
<ul>
<li><code>xtabs(~.)</code>: the output of this function is very similar to <code>table(...)</code>, but the output labels the variables. The input syntax is slightly different because it uses R’s formula syntax. To illustrate the difference in input, we’ll create the same tables as the last example. Variable names follow the <code>~</code> and are separated by <code>+</code>.</li>
</ul>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="cross.html#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="co">#one-way table</span></span>
<span id="cb209-2"><a href="cross.html#cb209-2" aria-hidden="true" tabindex="-1"></a><span class="fu">xtabs</span>(<span class="sc">~</span>degree, <span class="at">data =</span> teacher)</span></code></pre></div>
<pre><code>## degree
## BA MA 
## 39 32</code></pre>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="cross.html#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="co">#two-way table</span></span>
<span id="cb211-2"><a href="cross.html#cb211-2" aria-hidden="true" tabindex="-1"></a><span class="fu">xtabs</span>(<span class="sc">~</span>degree <span class="sc">+</span> fte, <span class="at">data =</span> teacher)</span></code></pre></div>
<pre><code>##       fte
## degree 0.5  1
##     BA   0 39
##     MA   1 31</code></pre>
<ul>
<li><code>prop.table(...)</code>: the input of <code>prop.table</code> is a table itself. This function converts a table of frequencies into a table of proportions.</li>
</ul>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="cross.html#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="co">#define one-way table, convert to proportion table</span></span>
<span id="cb213-2"><a href="cross.html#cb213-2" aria-hidden="true" tabindex="-1"></a>tbl1 <span class="ot">&lt;-</span> <span class="fu">table</span>(teacher<span class="sc">$</span>degree)</span>
<span id="cb213-3"><a href="cross.html#cb213-3" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(tbl1)</span></code></pre></div>
<pre><code>## 
##        BA        MA 
## 0.5492958 0.4507042</code></pre>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="cross.html#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="co">#define two-way table, convert to proportion table</span></span>
<span id="cb215-2"><a href="cross.html#cb215-2" aria-hidden="true" tabindex="-1"></a>tbl2 <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(<span class="sc">~</span>degree  <span class="sc">+</span> fte, <span class="at">data =</span> teacher)</span>
<span id="cb215-3"><a href="cross.html#cb215-3" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(tbl2)</span></code></pre></div>
<pre><code>##       fte
## degree        0.5          1
##     BA 0.00000000 0.54929577
##     MA 0.01408451 0.43661972</code></pre>
</div>
<div id="combining-it-all" class="section level3 hasAnchor" number="3.1.3">
<h3><span class="header-section-number">3.1.3</span> Combining it all<a href="cross.html#combining-it-all" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can combine these summary statistic functions with various subsetting techniques from the previous chapter to tease out relationships between variables. As an example, using the <code>teacher</code> data set still, we’d expect teachers with more education to earn a higher salary on average. In the examples above we saw that there is only one part time teacher in the sample (the teacher with <code>fte = 0.5</code>) and this person has a lower salary simply from working less. Thus, to compare salaries by degree, we may want to exclude this observation. Doing this manually:</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="cross.html#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="co">#subset for only full time teachers</span></span>
<span id="cb217-2"><a href="cross.html#cb217-2" aria-hidden="true" tabindex="-1"></a>fullTime <span class="ot">&lt;-</span> <span class="fu">subset</span>(teacher, fte <span class="sc">==</span> <span class="st">&quot;1&quot;</span>)</span>
<span id="cb217-3"><a href="cross.html#cb217-3" aria-hidden="true" tabindex="-1"></a><span class="co">#subset by degree</span></span>
<span id="cb217-4"><a href="cross.html#cb217-4" aria-hidden="true" tabindex="-1"></a>bach <span class="ot">&lt;-</span> <span class="fu">subset</span>(fullTime, degree <span class="sc">==</span> <span class="st">&quot;BA&quot;</span>) </span>
<span id="cb217-5"><a href="cross.html#cb217-5" aria-hidden="true" tabindex="-1"></a>mast <span class="ot">&lt;-</span> <span class="fu">subset</span>(fullTime, degree <span class="sc">==</span> <span class="st">&quot;MA&quot;</span>)</span>
<span id="cb217-6"><a href="cross.html#cb217-6" aria-hidden="true" tabindex="-1"></a><span class="co">#finally calculate averages</span></span>
<span id="cb217-7"><a href="cross.html#cb217-7" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(bach<span class="sc">$</span>base)</span></code></pre></div>
<pre><code>## [1] 56257.1</code></pre>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="cross.html#cb219-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(mast<span class="sc">$</span>base)</span></code></pre></div>
<pre><code>## [1] 57793.74</code></pre>
<p>It would be nice if we could streamline this process. We can do so using the <code>by</code> function. The input is <code>by(dataToSummarize, variableToGroupBy, summaryFunctionToApply)</code>. Thus, to recreate our work above we can use</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="cross.html#cb221-1" aria-hidden="true" tabindex="-1"></a><span class="fu">by</span>(fullTime<span class="sc">$</span>base, fullTime<span class="sc">$</span>degree, mean)</span></code></pre></div>
<pre><code>## fullTime$degree: BA
## [1] 56257.1
## ------------------------------------------------------- 
## fullTime$degree: MA
## [1] 57793.74</code></pre>
<p>As a final example, we will give a preview of creating the same table in using <code>tidyverse</code>syntax and grammar. Check out the next chapter for much more information, starting with the original <code>teacher</code> data set.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="cross.html#cb223-1" aria-hidden="true" tabindex="-1"></a>fullTime <span class="sc">%&gt;%</span></span>
<span id="cb223-2"><a href="cross.html#cb223-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>( fte <span class="sc">==</span> <span class="st">&quot;1&quot;</span>) <span class="sc">%&gt;%</span> <span class="co">#select only full time</span></span>
<span id="cb223-3"><a href="cross.html#cb223-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(degree) <span class="sc">%&gt;%</span> <span class="co">#specify variables to group by</span></span>
<span id="cb223-4"><a href="cross.html#cb223-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>( <span class="at">n =</span> <span class="fu">n</span>(), <span class="co">#create summary table, first column is a count</span></span>
<span id="cb223-5"><a href="cross.html#cb223-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">avgSal =</span> <span class="fu">mean</span>(base)) <span class="co">#second column is average salary</span></span></code></pre></div>
<pre><code>## # A tibble: 2 x 3
##   degree     n avgSal
##   &lt;fct&gt;  &lt;int&gt;  &lt;dbl&gt;
## 1 BA        39 56257.
## 2 MA        31 57794.</code></pre>
</div>
</div>
<div id="data-visualization" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Data visualization<a href="cross.html#data-visualization" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are three main ways to create plots in R: base R, <code>lattice</code>, and <code>ggplot2</code>. We will only learn about base R and <code>ggplot2</code> in this course. In practice, I use base R to make graphs quickly to get an idea of what’s going on and <code>ggplot2</code> to make more visually appealing and complicated graphics. In general, you should be able to make most graphs using either package, but sometimes it is easier to use one over the other.</p>
<p><strong>Caution</strong>: When creating data visualizations you may have to massage your data ahead of time to get it formatted correctly!</p>
<div id="base-r" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Base R<a href="cross.html#base-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The basic function for plotting in base R is simply <code>plot</code>. Often, R will correctly interpret what type of graph you’re trying to make if you format the data correctly. To avoid possible confusion, it’s best to call the type of plot you’re trying to make directly.</p>
<p>Each of the functions below have a lot of options and arguments for customizing the visualizations. The best way to learn about these is to simply play around.</p>
<p><strong>Histograms</strong>: When trying to visualize the distribution of a single numerical variable you often want to start with a histogram. The basic command for this is <code>hist(...)</code>. The first histogram below just gives you a rough idea of what the histograms look like, the second demonstrates the types of options you can specify.</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="cross.html#cb225-1" aria-hidden="true" tabindex="-1"></a><span class="co">#no options specified</span></span>
<span id="cb225-2"><a href="cross.html#cb225-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(teacher<span class="sc">$</span>base)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-75-1.png" width="672" /></p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="cross.html#cb226-1" aria-hidden="true" tabindex="-1"></a><span class="co">#vs many options specified</span></span>
<span id="cb226-2"><a href="cross.html#cb226-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(teacher<span class="sc">$</span>base, <span class="co">#variable to make a histogram of</span></span>
<span id="cb226-3"><a href="cross.html#cb226-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">breaks =</span> <span class="dv">11</span>, <span class="co">#number of cells, can be left blank</span></span>
<span id="cb226-4"><a href="cross.html#cb226-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">freq =</span> <span class="cn">FALSE</span>, <span class="co">#displays relative frequency on y-axis, if true, displays frequency</span></span>
<span id="cb226-5"><a href="cross.html#cb226-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Histogram of Teacher Base Salary&quot;</span>, <span class="co">#sets main title</span></span>
<span id="cb226-6"><a href="cross.html#cb226-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Base salary (USD)&quot;</span>, <span class="co">#x-axis label</span></span>
<span id="cb226-7"><a href="cross.html#cb226-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Frequency&quot;</span> <span class="co">#y-axis label, can be left blank in this case</span></span>
<span id="cb226-8"><a href="cross.html#cb226-8" aria-hidden="true" tabindex="-1"></a>     )</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-75-2.png" width="672" /></p>
<p><strong>Scatter plots</strong>: when checking for an association between two numerical variables you will often want to start your analysis with a scatter plot. The function <code>plot(x,y)</code> creates a scatter plot of <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>. Make sure these lists have the same length!</p>
<p>As above, we’ll make a basic scatter plot, then play around with the labels and options of the same graph.</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="cross.html#cb227-1" aria-hidden="true" tabindex="-1"></a><span class="co">#basic plot of years experience vs total teacher salary</span></span>
<span id="cb227-2"><a href="cross.html#cb227-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(teacher<span class="sc">$</span>years, teacher<span class="sc">$</span>total)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-76-1.png" width="672" /></p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="cross.html#cb228-1" aria-hidden="true" tabindex="-1"></a><span class="co">#same plot with updated options</span></span>
<span id="cb228-2"><a href="cross.html#cb228-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>( teacher<span class="sc">$</span>years, teacher<span class="sc">$</span>total,</span>
<span id="cb228-3"><a href="cross.html#cb228-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">pch =</span> <span class="dv">16</span>, <span class="co">#change mark to filled in circle</span></span>
<span id="cb228-4"><a href="cross.html#cb228-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">main =</span> <span class="st">&quot;Teacher experience vs total salary&quot;</span>,</span>
<span id="cb228-5"><a href="cross.html#cb228-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">xlab =</span> <span class="st">&quot;Teaching experience (in years)&quot;</span>, </span>
<span id="cb228-6"><a href="cross.html#cb228-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">ylab =</span> <span class="st">&quot;Total annual salary (USD)&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-76-2.png" width="672" /></p>
<p><strong>Bar charts</strong>: bar charts help visualize one or two categorical variables; you can think of them as a visualization of one-way and two way tables. The basic function is, no surprise, <code>barplot(...)</code>, but you must input a table instead of vectors.</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="cross.html#cb229-1" aria-hidden="true" tabindex="-1"></a><span class="co">#define our tables</span></span>
<span id="cb229-2"><a href="cross.html#cb229-2" aria-hidden="true" tabindex="-1"></a>tbl1 <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(<span class="fu">table</span>(teacher<span class="sc">$</span>degree)) <span class="co"># one-way rel. freq. table </span></span>
<span id="cb229-3"><a href="cross.html#cb229-3" aria-hidden="true" tabindex="-1"></a>tbl2 <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(<span class="sc">~</span>degree <span class="sc">+</span> fte, <span class="at">data =</span> teacher ) <span class="co">#two-way table</span></span>
<span id="cb229-4"><a href="cross.html#cb229-4" aria-hidden="true" tabindex="-1"></a><span class="co">#visualize one-way table</span></span>
<span id="cb229-5"><a href="cross.html#cb229-5" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(tbl1, </span>
<span id="cb229-6"><a href="cross.html#cb229-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">main =</span> <span class="st">&quot;Relative frequency of teacher degrees&quot;</span>, </span>
<span id="cb229-7"><a href="cross.html#cb229-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">&quot;Degree&quot;</span>, </span>
<span id="cb229-8"><a href="cross.html#cb229-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">&quot;Proportion&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-77-1.png" width="672" /></p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="cross.html#cb230-1" aria-hidden="true" tabindex="-1"></a><span class="co">#visualize two-way table</span></span>
<span id="cb230-2"><a href="cross.html#cb230-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(tbl2, </span>
<span id="cb230-3"><a href="cross.html#cb230-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">main =</span> <span class="st">&quot;Teacher employment employment by degree&quot;</span>,</span>
<span id="cb230-4"><a href="cross.html#cb230-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">&quot;Employment (by FTE)&quot;</span>,</span>
<span id="cb230-5"><a href="cross.html#cb230-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">&quot;Frequency&quot;</span>,</span>
<span id="cb230-6"><a href="cross.html#cb230-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>), <span class="co">#set colors for degree types, alphabetically</span></span>
<span id="cb230-7"><a href="cross.html#cb230-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend =</span> <span class="fu">rownames</span>(tbl2) <span class="co">#create legend with rows from the table</span></span>
<span id="cb230-8"><a href="cross.html#cb230-8" aria-hidden="true" tabindex="-1"></a>        )</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-77-2.png" width="672" /></p>
<p><strong>Box plots</strong>: Box plots help us visualize a the distribution of a numerical variable; stacking box plots side by side help us compare the distribution of a numerical variable over several values of a categorical variable. No suprise, both it is easy to make these plots in both situations using the function <code>boxplot</code>.</p>
<p>The syntax for creating a box plot for a single numerical variable is simple, as the next example shows.</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="cross.html#cb231-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(teacher<span class="sc">$</span>base, </span>
<span id="cb231-2"><a href="cross.html#cb231-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">&quot;Base salary (USD)&quot;</span>, </span>
<span id="cb231-3"><a href="cross.html#cb231-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">main =</span> <span class="st">&quot;Distribution of MI teacher salaries&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-78-1.png" width="672" /></p>
<p>When creating a box plot for a numerical variable over several values of a categorical variable, you need to use R’s formula syntax. This syntax will appear a few more times throughout the course since it is used often when looking at relationships between two variables. The basic notation is <code>Response variable ~ explanatory variables</code> or, if your response variable is <code>y</code> and your explanatory variable is <code>x</code>, simply <code>y ~ x</code>. Note the <code>~</code> symbol is to the left of the <code>1</code> key on your keyboard. The next examples shows a breakdown of teacher salary by highest degree.</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="cross.html#cb232-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(base <span class="sc">~</span> degree, <span class="at">data =</span> fullTime, </span>
<span id="cb232-2"><a href="cross.html#cb232-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">&quot;Degree&quot;</span>, </span>
<span id="cb232-3"><a href="cross.html#cb232-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">&quot;Base salary (USD)&quot;</span>,</span>
<span id="cb232-4"><a href="cross.html#cb232-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">main =</span> <span class="st">&quot;MI teacher base salary by degree&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-79-1.png" width="672" /></p>
<p>Before moving on to plotting with <code>ggplot2</code>, we remind the reader that this is by no means a comprehensive list of all plotting features in R. Moreover, each of the plotting functions used above have many more features and are very customizable; you can go down a deep rabbit hole making plots look just how you want them to.</p>
</div>
<div id="ggplot2" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> <code>ggplot2</code><a href="cross.html#ggplot2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This section will guide you through using the package <code>ggplot2</code> for data visualization in R. Many find the output from <code>ggplot2</code> to be more visually appealing than plots from base R, but the plotting syntax in <code>ggplot2</code> is often much more intuitive than plotting in base R, especially if you’re making more complicated visualizations. The basic idea of plotting with <code>ggplot2</code> is to</p>
<ol style="list-style-type: decimal">
<li><p>Open an empty plot based on a particular data set using the function <code>ggplot(data, aes(...))</code> where <code>data</code> is the name of the data set you’re using and <code>aes(...)</code> specifies the aesthetic of the plot to come. You specify which variables are assigned to which axes inside <code>aes(...)</code>. This will become clearer through examples.</p></li>
<li><p>Add layers to the empty plot to construct the visualization you’re imagining, separating each layer with <code>+</code>. These layers are <code>geom</code>s, labels, legends, etc. Again, this will become much clearer through some examples.</p></li>
</ol>
<p>The ability to sequentially add layers to a plot makes complicated plotting more intuitive in <code>ggplot2</code>. For example, adding a line to a scatter plot is simple under this organization because you simply have to add another layer! We will reproduce the plots from the previous section in the examples that follow, tweaking some parameters here and there to give you an idea of how to change visualizations.</p>
<p><strong>Histograms</strong>: The <code>geom</code> for a histogram is <code>geom_histogram(...)</code>. Notice that our plot below does open an empty plot first, then adds layers to it.</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="cross.html#cb233-1" aria-hidden="true" tabindex="-1"></a><span class="co"># open empty plot</span></span>
<span id="cb233-2"><a href="cross.html#cb233-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(teacher, <span class="fu">aes</span>(<span class="at">x =</span> base)) <span class="sc">+</span> </span>
<span id="cb233-3"><a href="cross.html#cb233-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add histogram layer with 15 bins. fill changes bar color, but color changes outline color</span></span>
<span id="cb233-4"><a href="cross.html#cb233-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">15</span>, <span class="at">fill =</span> <span class="st">&quot;steelblue&quot;</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span> </span>
<span id="cb233-5"><a href="cross.html#cb233-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># adds label layer with only a title. can add subtitle and caption. </span></span>
<span id="cb233-6"><a href="cross.html#cb233-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="at">title =</span> <span class="st">&quot;Distribution of MI teacher base salary&quot;</span>) <span class="sc">+</span></span>
<span id="cb233-7"><a href="cross.html#cb233-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># changes x-axis label</span></span>
<span id="cb233-8"><a href="cross.html#cb233-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Base salary (USD)&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-80-1.png" width="672" /></p>
<p><strong>Scatter plots</strong>: The <code>geom</code> for a scatter plot is <code>geom_point(...)</code>. You can tweak the appearance quite a bit using different arguments inside this (and all!) <code>geom</code>s. For instance the option <code>alpha</code> sets the transparency, <code>color</code> the color of each point, <code>shape</code> the shape, etc.</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="cross.html#cb234-1" aria-hidden="true" tabindex="-1"></a><span class="co">#open empty plot and specify explanatory (x) and response (y) variables</span></span>
<span id="cb234-2"><a href="cross.html#cb234-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(teacher, <span class="fu">aes</span>(<span class="at">x =</span> years, <span class="at">y =</span> total))  <span class="sc">+</span> </span>
<span id="cb234-3"><a href="cross.html#cb234-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;steelblue&quot;</span>, <span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span> </span>
<span id="cb234-4"><a href="cross.html#cb234-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Teacher salary vs years experience&quot;</span>) <span class="sc">+</span> </span>
<span id="cb234-5"><a href="cross.html#cb234-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Experience (years)&quot;</span>) <span class="sc">+</span></span>
<span id="cb234-6"><a href="cross.html#cb234-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Total salary (USD)&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-81-1.png" width="672" /></p>
<p>Adding a line of best fit (see Chapter 8 for more information on modeling) to a scatter plot is straightforward with a <code>geom_smooth(...)</code> layer, setting <code>method = 'lm'</code> (this means add a linear model to your plot)</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="cross.html#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(teacher, <span class="fu">aes</span>(<span class="at">x =</span> years, <span class="at">y =</span> total))  <span class="sc">+</span> </span>
<span id="cb235-2"><a href="cross.html#cb235-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb235-3"><a href="cross.html#cb235-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>( <span class="at">method =</span> <span class="st">&#39;lm&#39;</span>, <span class="at">formula =</span> y<span class="sc">~</span>x, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> <span class="co">#adds line of best fit without error bars</span></span>
<span id="cb235-4"><a href="cross.html#cb235-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Teacher salary vs years experience&quot;</span>) <span class="sc">+</span> </span>
<span id="cb235-5"><a href="cross.html#cb235-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Experience (years)&quot;</span>) <span class="sc">+</span></span>
<span id="cb235-6"><a href="cross.html#cb235-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Total salary (USD)&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-82-1.png" width="672" /></p>
<p>We can make the same plot, but color the points by each teacher’s degree and change the shape of each point by full/part time status.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="cross.html#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(teacher, <span class="fu">aes</span>(<span class="at">x =</span> years, <span class="at">y =</span> total, <span class="at">color =</span> degree))  <span class="sc">+</span> </span>
<span id="cb236-2"><a href="cross.html#cb236-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">shape =</span> fte)) <span class="sc">+</span> </span>
<span id="cb236-3"><a href="cross.html#cb236-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Teacher salary vs years experience, by highest degree&quot;</span>) <span class="sc">+</span> </span>
<span id="cb236-4"><a href="cross.html#cb236-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Experience (years)&quot;</span>) <span class="sc">+</span></span>
<span id="cb236-5"><a href="cross.html#cb236-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Total salary (USD)&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-83-1.png" width="672" />
This school district’s pay scale becomes much more apparent! Teachers with masters degrees earn a little bit more, but everyone’s salary increases at roughly the same rate during their first 11 years, then flattens out. We also see that the outlier with minimal experience and low pay is also the only part-time employee.</p>
<p>As a final example of tweaking scatter plots, we can even add a line of best fit for each degree group!</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="cross.html#cb237-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(teacher, <span class="fu">aes</span>(<span class="at">x =</span> years, <span class="at">y =</span> total, <span class="at">color =</span> degree))  <span class="sc">+</span> </span>
<span id="cb237-2"><a href="cross.html#cb237-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">shape =</span> fte)) <span class="sc">+</span> </span>
<span id="cb237-3"><a href="cross.html#cb237-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&#39;lm&#39;</span>, <span class="at">formula =</span> y<span class="sc">~</span>x, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb237-4"><a href="cross.html#cb237-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Teacher salary vs years experience, by highest degree&quot;</span>) <span class="sc">+</span> </span>
<span id="cb237-5"><a href="cross.html#cb237-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Experience (years)&quot;</span>) <span class="sc">+</span></span>
<span id="cb237-6"><a href="cross.html#cb237-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Total salary (USD)&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-84-1.png" width="672" />
You can see that it is easy to start adding a lot of information to a plot! Be careful, however; there is a fine line between a detailed, informative visualization, and a confusing, overly busy one.</p>
<p><strong>Bar graphs</strong>: We can make bar graphs easily with <code>ggplot2</code> using the <code>geom_bar(...)</code> layer. The first two plots below look identical at first pass, but the one on the left is a frequency bar chart, so displays the raw count on the <span class="math inline">\(y\)</span>-axis, but the chart on the right is a relative bar chart. To make the relative frequency bar chart, we include the option <code>y = ..prop..</code> in the aesthetic. We also have to specify the number of groups to ensure that our proportions are out of the total.</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="cross.html#cb238-1" aria-hidden="true" tabindex="-1"></a><span class="co"># first load a package for side by side plots</span></span>
<span id="cb238-2"><a href="cross.html#cb238-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span>
<span id="cb238-3"><a href="cross.html#cb238-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Frequency bar plot </span></span>
<span id="cb238-4"><a href="cross.html#cb238-4" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(teacher, <span class="fu">aes</span>(<span class="at">x =</span> degree)) <span class="sc">+</span> </span>
<span id="cb238-5"><a href="cross.html#cb238-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">&quot;aquamarine3&quot;</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb238-6"><a href="cross.html#cb238-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="at">title =</span> <span class="st">&quot;MI teacher education (count)&quot;</span>)</span>
<span id="cb238-7"><a href="cross.html#cb238-7" aria-hidden="true" tabindex="-1"></a><span class="co"># relative frequency bar plot</span></span>
<span id="cb238-8"><a href="cross.html#cb238-8" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(teacher, <span class="fu">aes</span>(<span class="at">x =</span> degree, <span class="at">y =</span> ..prop.., <span class="at">group =</span><span class="dv">1</span>)) <span class="sc">+</span> </span>
<span id="cb238-9"><a href="cross.html#cb238-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">&quot;aquamarine3&quot;</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb238-10"><a href="cross.html#cb238-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>( <span class="at">title =</span> <span class="st">&quot;MI teacher education (proportion)&quot;</span>)</span>
<span id="cb238-11"><a href="cross.html#cb238-11" aria-hidden="true" tabindex="-1"></a><span class="co">#display both plots side by side. </span></span>
<span id="cb238-12"><a href="cross.html#cb238-12" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(p1,p2, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-85-1.png" width="672" />
Next we’ll make stacked and side by side box plots.</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="cross.html#cb239-1" aria-hidden="true" tabindex="-1"></a><span class="co">#stacked</span></span>
<span id="cb239-2"><a href="cross.html#cb239-2" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(teacher, <span class="fu">aes</span>(<span class="at">x =</span> degree, <span class="at">fill =</span> fte)) <span class="sc">+</span> </span>
<span id="cb239-3"><a href="cross.html#cb239-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span> </span>
<span id="cb239-4"><a href="cross.html#cb239-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;MI teacher education&quot;</span>)</span>
<span id="cb239-5"><a href="cross.html#cb239-5" aria-hidden="true" tabindex="-1"></a><span class="co">#side by side </span></span>
<span id="cb239-6"><a href="cross.html#cb239-6" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(teacher, <span class="fu">aes</span>(<span class="at">x =</span> degree, <span class="at">fill =</span> fte)) <span class="sc">+</span> </span>
<span id="cb239-7"><a href="cross.html#cb239-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>( <span class="at">position =</span> <span class="fu">position_dodge</span>(), <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span> <span class="co"># big change is setting position! </span></span>
<span id="cb239-8"><a href="cross.html#cb239-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;MI teacher education&quot;</span>)</span>
<span id="cb239-9"><a href="cross.html#cb239-9" aria-hidden="true" tabindex="-1"></a><span class="co">#display both plots side by side</span></span>
<span id="cb239-10"><a href="cross.html#cb239-10" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(p1, p2, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-86-1.png" width="672" />
One could combine our first and second examples of box plots to get side-by-side and stacked relative frequency plots. This takes a little bit of extra fuss that can be avoided by first manipulating the data you input into <code>ggplot2</code>. In other words, to make these types of plots, make the summary calculations on your own earlier, then feed those into the appropriate <code>geom</code>.</p>
<p><strong>Box plots</strong>: We will finish up our brief tour of <code>ggplot2</code> by making a few box plots. The <code>geom</code> for box plots is, no surprise, <code>geom_boxplot(...)</code>. Let’s first look at a box plot of the teacher’s total salary.</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="cross.html#cb240-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(teacher, <span class="fu">aes</span>(<span class="at">y =</span> total)) <span class="sc">+</span> </span>
<span id="cb240-2"><a href="cross.html#cb240-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()  <span class="sc">+</span></span>
<span id="cb240-3"><a href="cross.html#cb240-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_blank</span>(), <span class="co">#this layer just removes the scale on the x-axis</span></span>
<span id="cb240-4"><a href="cross.html#cb240-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.x=</span><span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb240-5"><a href="cross.html#cb240-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Total MI teacher salary&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-87-1.png" width="672" /></p>
<p>By adding an <code>x</code> value to our aesthetic, we can produce boxplots of the range of values of a categorical variable. The example below also adds a point representing the mean of each group and colors the outlier red.</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="cross.html#cb241-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(teacher, <span class="fu">aes</span>(<span class="at">x =</span> degree, <span class="at">y =</span> total)) <span class="sc">+</span> </span>
<span id="cb241-2"><a href="cross.html#cb241-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.color =</span> <span class="st">&quot;red&quot;</span>, </span>
<span id="cb241-3"><a href="cross.html#cb241-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">outlier.size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb241-4"><a href="cross.html#cb241-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary_bin</span>(<span class="at">fun =</span> <span class="st">&quot;mean&quot;</span>, </span>
<span id="cb241-5"><a href="cross.html#cb241-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">geom =</span> <span class="st">&quot;point&quot;</span>, </span>
<span id="cb241-6"><a href="cross.html#cb241-6" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>, </span>
<span id="cb241-7"><a href="cross.html#cb241-7" aria-hidden="true" tabindex="-1"></a>                   <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb241-8"><a href="cross.html#cb241-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;MI teacher salaries by degree&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-88-1.png" width="672" /></p>
<p>There are many, many more <code>geoms</code>, options, and possible visualizations you can make with <code>ggplot2</code>; this section should give you enough to get started and make some high quality graphics. For more information, check out the <a href="https://ggplot2-book.org/individual-geoms.html">official <code>ggplot2</code> guide</a>.</p>
</div>
<div id="saving-plots" class="section level3 hasAnchor" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Saving plots<a href="cross.html#saving-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now that you know how to make plots in R, what do you do with them? Data visualization is essential for two aspects of data analysis: exploration and communication. Initial data visualization can help guide your analysis by illuminating patterns and trends that may be difficult to observe in your raw data. For the same reason, you will want to include high quality visualizations when you write up your work; visualizations help readers get a good understanding of your work without digging deep into the details. So how do you get your visualizations into a write up? There are two possibilities:</p>
<ol style="list-style-type: decimal">
<li><p>Do your entire analysis and write-up in an RMarkdown document! You can hide code chunks so that output only shows plots and calculation results. You can use RMarkdown to create impressive, professional documents.</p></li>
<li><p>You can save your plot in your favorite file format. There are two ways to do this, from the console or from the File/Plot explorer window in RStudio. Both options will save the file to whatever directory or folder you are currently working in.</p></li>
</ol>
<p><strong>File/Plot Explorer</strong>: When you make a plot in RStudio it displays in the bottom right Plot window. That window has an “Export” button. Clicking this button reveals a bunch of options for saving your plot. Pick whichever you think is best for your application.</p>
<p><strong>From the console</strong>: You can also export an image programmatically. The basic process is 1) open a “graphics device”, 2) code your plot, then close the graphics device. This option is best if you have to save multiple images or want to customize the file you’re saving. As an example, the following code will create a PDF file called “salary_viz.pdf” of the side-by-side box plot we created at the end of the base R plotting section.</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="cross.html#cb242-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pdf</span>(<span class="st">&quot;salary_viz.pdf&quot;</span>) <span class="co">#opens graphic device</span></span>
<span id="cb242-2"><a href="cross.html#cb242-2" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(base <span class="sc">~</span> degree, <span class="at">data =</span> fullTime, </span>
<span id="cb242-3"><a href="cross.html#cb242-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">&quot;Degree&quot;</span>, </span>
<span id="cb242-4"><a href="cross.html#cb242-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">&quot;Base salary (USD)&quot;</span>,</span>
<span id="cb242-5"><a href="cross.html#cb242-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">main =</span> <span class="st">&quot;MI teacher base salary by degree&quot;</span>)</span>
<span id="cb242-6"><a href="cross.html#cb242-6" aria-hidden="true" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code></pre></div>
<p>You can save your plot in many different file formats; the command to open the appropriate graphics device is usually obvious. For instance, a png graphics device is opened with the function <code>png(...)</code>.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="rstudio-basics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="wrangling-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/02-summary_stats_plotting.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
